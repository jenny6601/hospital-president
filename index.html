<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>北區醫院院長名錄</title>
    <meta name="description" content="查詢北區各大醫院院長、科別與行政區資料">

    <!-- Tailwind CSS (樣式框架) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Alpine.js (互動邏輯框架) -->
    <script src="https://unpkg.com/alpinejs@3.13.3/dist/cdn.min.js" defer></script>

    <!-- Google Fonts (字型) -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Noto Sans TC', sans-serif; }
        [x-cloak] { display: none !important; }
        .hospital-card:hover { transform: translateY(-4px); }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 min-h-screen flex flex-col" x-data="hospitalApp()">

    <!-- 頁首 Header -->
    <header class="bg-blue-600 text-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="bg-white/20 p-2 rounded-lg backdrop-blur-sm">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
                    </svg>
                </div>
                <h1 class="text-xl md:text-2xl font-bold tracking-wide">北區醫院院長名錄</h1>
            </div>
            <div class="text-xs md:text-sm bg-blue-700 px-3 py-1 rounded-full opacity-90 hidden sm:block">
                資料更新：2024
            </div>
        </div>
    </header>

    <!-- 主要內容 Main -->
    <main class="flex-grow container mx-auto px-4 py-8">
        
        <!-- 搜尋與篩選工具列 -->
        <section class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 mb-8 transition-all hover:shadow-md">
            <div class="grid grid-cols-1 md:grid-cols-12 gap-4">
                
                <!-- 關鍵字搜尋 -->
                <div class="md:col-span-6 lg:col-span-5 relative">
                    <label class="block text-sm font-bold text-gray-600 mb-2">搜尋醫院或院長</label>
                    <div class="relative">
                        <input type="text" x-model="searchQuery" placeholder="輸入關鍵字..." 
                               class="w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all">
                        <svg class="w-5 h-5 text-gray-400 absolute left-3 top-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                        <button x-show="searchQuery" @click="searchQuery = ''" class="absolute right-3 top-3.5 text-gray-400 hover:text-gray-600">
                            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- 縣市篩選 -->
                <div class="md:col-span-3 lg:col-span-3">
                    <label class="block text-sm font-bold text-gray-600 mb-2">地區</label>
                    <div class="relative">
                        <select x-model="selectedCity" class="w-full pl-4 pr-10 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-blue-500 outline-none appearance-none cursor-pointer">
                            <option value="">所有縣市</option>
                            <template x-for="city in cities" :key="city">
                                <option :value="city" x-text="city"></option>
                            </template>
                        </select>
                        <div class="absolute right-3 top-3.5 pointer-events-none text-gray-500">
                            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- 醫院等級篩選 -->
                <div class="md:col-span-3 lg:col-span-4">
                    <label class="block text-sm font-bold text-gray-600 mb-2">醫院等級</label>
                    <div class="relative">
                        <select x-model="selectedLevel" class="w-full pl-4 pr-10 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-blue-500 outline-none appearance-none cursor-pointer">
                            <option value="">所有等級</option>
                            <template x-for="level in levels" :key="level">
                                <option :value="level" x-text="level"></option>
                            </template>
                        </select>
                        <div class="absolute right-3 top-3.5 pointer-events-none text-gray-500">
                            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                    </div>
                </div>

            </div>

            <!-- 篩選統計與重置 -->
            <div class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center text-sm">
                <span class="text-gray-500">
                    共找到 <span class="font-bold text-blue-600 text-lg mx-1" x-text="filteredHospitals.length"></span> 筆資料
                </span>
                <button x-show="hasFilters" @click="resetFilters" x-transition 
                        class="text-red-500 hover:text-red-700 font-medium flex items-center gap-1">
                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                    </svg>
                    清除篩選
                </button>
            </div>
        </section>

        <!-- 醫院卡片列表 -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            <template x-for="item in filteredHospitals" :key="item['醫院名稱']">
                <div class="hospital-card bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100 transition-all duration-300 flex flex-col h-full group">
                    
                    <!-- 圖片區塊 -->
                    <div class="aspect-[4/3] bg-gray-200 relative overflow-hidden">
                        <img :src="item['相片']" 
                             :alt="item['現任院長']"
                             loading="lazy"
                             class="w-full h-full object-cover object-top transition-transform duration-700 group-hover:scale-110"
                             onerror="this.onerror=null; this.src='https://placehold.co/600x400/e2e8f0/94a3b8?text=暫無圖片';">
                        
                        <!-- 標籤 -->
                        <div class="absolute top-3 right-3 flex flex-col items-end gap-1">
                            <span class="bg-blue-600/90 text-white text-xs font-bold px-2 py-1 rounded-lg backdrop-blur-sm shadow-sm" x-text="item['等級']"></span>
                        </div>
                        
                        <!-- 底部漸層 (讓文字更清楚) -->
                        <div class="absolute inset-x-0 bottom-0 h-20 bg-gradient-to-t from-black/60 to-transparent"></div>
                        <div class="absolute bottom-3 left-4 text-white">
                            <p class="text-xs font-medium opacity-90" x-text="item['所在行政區'] ? item['縣市'] + ' · ' + item['所在行政區'] : item['縣市']"></p>
                        </div>
                    </div>

                    <!-- 內容區塊 -->
                    <div class="p-5 flex-1 flex flex-col">
                        <h3 class="text-lg font-bold text-gray-900 leading-tight mb-3 group-hover:text-blue-600 transition-colors" x-text="item['醫院名稱']"></h3>
                        
                        <div class="mt-auto pt-4 border-t border-gray-100 grid grid-cols-2 gap-2">
                            <div>
                                <p class="text-[10px] text-gray-400 uppercase tracking-wider font-bold">現任院長</p>
                                <p class="text-base font-bold text-gray-800" x-text="item['現任院長']"></p>
                            </div>
                            <div class="text-right">
                                <p class="text-[10px] text-gray-400 uppercase tracking-wider font-bold">專長科別</p>
                                <span class="inline-block bg-green-50 text-green-700 text-xs px-2 py-1 rounded-md font-medium border border-green-100 mt-0.5" x-text="item['科別']"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </template>
        </div>

        <!-- 無結果顯示 -->
        <div x-show="filteredHospitals.length === 0" x-cloak class="text-center py-20">
            <div class="inline-block p-4 rounded-full bg-gray-100 mb-4">
                <svg class="w-12 h-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            </div>
            <h3 class="text-lg font-medium text-gray-900">沒有找到符合的資料</h3>
            <p class="text-gray-500 mt-1">請嘗試使用其他關鍵字或調整篩選條件</p>
            <button @click="resetFilters" class="mt-6 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-lg shadow-blue-600/30 font-medium">
                清除所有篩選
            </button>
        </div>

    </main>

    <!-- 頁尾 Footer -->
    <footer class="bg-white border-t border-gray-200 mt-auto">
        <div class="container mx-auto px-4 py-8 text-center">
            <p class="text-gray-600 font-medium">北區醫院院長名錄 App</p>
            <p class="text-xs text-gray-400 mt-2">© 2024 資料來源：公開資料整理</p>
        </div>
    </footer>

    <!-- App 邏輯與資料 -->
    <script>
        // 將處理過後的 CSV 資料直接嵌入為 JSON，確保部署時不會有讀取問題
        const HOSPITAL_DATA = [{"縣市": "台北市", "等級": "醫學中心", "醫院名稱": "國立臺灣大學醫學院附設醫院", "現任院長": "余忠仁", "科別": "胸腔內科", "所在行政區": "中正區", "相片": "https://i.ibb.co/mVFTNYz9/image.png"}, {"縣市": "台北市", "等級": "醫學中心", "醫院名稱": "臺北榮民總醫院", "現任院長": "陳威明", "科別": "骨科", "所在行政區": "北投區", "相片": "https://i.ibb.co/Wv82TMfr/image.jpg"}, {"縣市": "台北市", "等級": "醫學中心", "醫院名稱": "三軍總醫院附設民眾診療服務處", "現任院長": "蔡宜廷", "科別": "心臟外科", "所在行政區": "內湖區", "相片": "https://i.ibb.co/zhC6rdWw/image.jpg"}, {"縣市": "基隆市", "等級": "區域醫院", "醫院名稱": "三軍總醫院基隆分院", "現任院長": "陳元皓", "科別": "神經外科", "所在行政區": "中正區", "相片": "https://i.ibb.co/fzV0mGsm/image.jpg"}, {"縣市": "台北市", "等級": "區域醫院", "醫院名稱": "三軍總醫院松山分院", "現任院長": "許育瑞", "科別": "腎臟科", "所在行政區": "松山區", "相片": "https://i.ibb.co/V0LW69Vw/image.jpg"}, {"縣市": "台北市", "等級": "醫學中心", "醫院名稱": "馬偕紀念醫院", "現任院長": "張文瀚", "科別": "急診科", "所在行政區": "中山區", "相片": "https://i.ibb.co/4RB6jrPw/image.jpg"}, {"縣市": "新北市", "等級": "區域醫院", "醫院名稱": "淡水馬偕紀念醫院", "現任院長": "洪大川", "科別": "心臟科", "所在行政區": "淡水區", "相片": "https://i.ibb.co/1fYm2wdv/image.jpg"}, {"縣市": "台北市", "等級": "醫學中心", "醫院名稱": "國泰綜合醫院", "現任院長": "簡志誠", "科別": "麻醉疼痛", "所在行政區": "大安區", "相片": "https://i.ibb.co/p6WC1TtW/image.jpg"}, {"縣市": "新北市", "等級": "區域醫院", "醫院名稱": "汐止國泰綜合醫院", "現任院長": "林慶齡", "科別": "代謝科", "所在行政區": "汐止區", "相片": "https://i.ibb.co/WNHRrW1c/image.jpg"}, {"縣市": "台北市", "等級": "醫學中心", "醫院名稱": "新光吳火獅紀念醫院", "現任院長": "侯勝茂", "科別": "骨科", "所在行政區": "士林區", "相片": "https://i.ibb.co/p6kzF3zP/image.jpg"}, {"縣市": "台北市", "等級": "醫學中心", "醫院名稱": "臺北醫學大學附設醫院", "現任院長": "施俊明", "科別": "心臟科", "所在行政區": "信義區", "相片": "https://i.ibb.co/DSMRwcn/image.jpg"}, {"縣市": "台北市", "等級": "醫學中心", "醫院名稱": "臺北市立萬芳醫院", "現任院長": "劉燦宏", "科別": "復健", "所在行政區": "文山區", "相片": "https://i.ibb.co/VYgGM0LH/image.jpg"}, {"縣市": "台北市", "等級": "區域醫院", "醫院名稱": "和信治癌中心醫院", "現任院長": "黃達夫", "科別": "腫瘤", "所在行政區": "關渡", "相片": "https://i.ibb.co/LhdyYyjx/image.jpg"}, {"縣市": "台北市", "等級": "區域醫院", "醫院名稱": "臺北市立聯合醫院", "現任院長": "王智弘", "科別": "耳鼻喉科 ", "所在行政區": "各院區", "相片": "https://i.ibb.co/TMX2C2yw/image.png"}, {"縣市": "台北市", "等級": "區域醫院", "醫院名稱": "市立醫院中興院區", "現任院長": "蔡景耀", "科別": "眼科", "所在行政區": "", "相片": "https://i.ibb.co/qF5V6yjg/image.jpg"}, {"縣市": "台北市", "等級": "區域醫院", "醫院名稱": "市立醫院陽明院區", "現任院長": "邱逸淳", "科別": "泌尿", "所在行政區": "", "相片": "https://i.ibb.co/QjTKGL6s/image.png"}, {"縣市": "台北市", "等級": "區域醫院", "醫院名稱": "市立醫院和平婦幼院區", "現任院長": "許家禎", "科別": "ENT", "所在行政區": "", "相片": "https://i.ibb.co/KzVQw0Y7/image.jpg"}, {"縣市": "台北市", "等級": "區域醫院", "醫院名稱": "市立醫院忠孝院區", "現任院長": "陳修聖", "科別": "泌尿", "所在行政區": "", "相片": "https://i.ibb.co/Q3Q3r1zk/image.jpg"}, {"縣市": "台北市", "等級": "區域醫院", "醫院名稱": "市立醫院仁愛院區", "現任院長": "王懋哲", "科別": "ENT", "所在行政區": "", "相片": "https://i.ibb.co/MxsMXxVC/image.jpg"}, {"縣市": "台北市", "等級": "區域醫院", "醫院名稱": "振興醫院", "現任院長": "魏崢", "科別": "心臟外科", "所在行政區": "北投區", "相片": "https://i.ibb.co/FkVX7Vqw/image.jpg"}, {"縣市": "台北市", "等級": "區域醫院", "醫院名稱": "臺北長庚紀念醫院", "現任院長": "黃集仁", "科別": "急診科", "所在行政區": "松山區", "相片": "https://i.ibb.co/r2ZdBm1c/image.jpg"}, {"縣市": "台北市", "等級": "區域醫院", "醫院名稱": "臺北醫學大學臺北癌症醫院", "現任院長": "張俊彥", "科別": "血腫科", "所在行政區": "信義區", "相片": "https://i.ibb.co/whSZypZ0/image.jpg"}, {"縣市": "台北市", "等級": "區域醫院", "醫院名稱": "康寧醫院", "現任院長": "尹長生", "科別": "婦產科", "所在行政區": "內湖區", "相片": "https://i.ibb.co/TBDwp0nK/image.jpg"}, {"縣市": "台北市", "等級": "區域醫院", "醫院名稱": "西園醫院", "現任院長": "林澤安", "科別": "內科", "所在行政區": "萬華區", "相片": "https://i.ibb.co/HWq3hmV/image.jpg"}, {"縣市": "台北市", "等級": "區域醫院", "醫院名稱": "台安醫院", "現任院長": "陳欣宏", "科別": "泌尿", "所在行政區": "大安區", "相片": "https://i.ibb.co/1YBVxp5v/image.jpg"}, {"縣市": "新北市", "等級": "醫學中心", "醫院名稱": "亞東紀念醫院", "現任院長": "邱冠明", "科別": "心臟外科", "所在行政區": "板橋區", "相片": "https://i.ibb.co/b5QrdWFv/image.jpg"}, {"縣市": "新北市", "等級": "醫學中心", "醫院名稱": "臺北慈濟醫院", "現任院長": "趙有誠", "科別": "腸胃科", "所在行政區": "新店區", "相片": "https://i.ibb.co/3mr2tmHS/image.jpg"}, {"縣市": "新北市", "等級": "醫學中心", "醫院名稱": "衛生福利部雙和醫院", "現任院長": "李明哲", "科別": "心臟外科", "所在行政區": "中和區", "相片": "https://i.ibb.co/MkXYsxtD/image.jpg"}, {"縣市": "新北市", "等級": "醫學中心", "醫院名稱": "輔仁大學附設醫院", "現任院長": "黃瑞仁", "科別": "心臟科", "所在行政區": "泰山區", "相片": "https://i.ibb.co/MDypzk2Z/image.jpg"}, {"縣市": "新北市", "等級": "區域醫院", "醫院名稱": "恩主公醫院", "現任院長": "楊純豪", "科別": "大腸外科", "所在行政區": "三峽區", "相片": "https://i.ibb.co/5QRdCGK/image.jpg"}, {"縣市": "新北市", "等級": "區域醫院", "醫院名稱": "衛生福利部臺北醫院", "現任院長": "鄭舜平", "科別": "復健", "所在行政區": "新莊區", "相片": "https://i.ibb.co/BHqTvv9Z/image.jpg"}, {"縣市": "新北市", "等級": "區域醫院", "醫院名稱": "新北市立聯合醫院", "現任院長": "項正川", "科別": "腎臟", "所在行政區": "三重/板橋", "相片": "https://i.ibb.co/nq24rbHz/image.jpg"}, {"縣市": "新北市", "等級": "區域醫院", "醫院名稱": "耕莘醫院總院長", "現任院長": "林恆毅", "科別": "胸腔內科", "所在行政區": "", "相片": "https://i.ibb.co/6cQk2MDX/image.jpg"}, {"縣市": "新北市", "等級": "區域醫院", "醫院名稱": "新店耕莘醫院", "現任院長": "鄒繼群", "科別": "耳鼻喉科 ", "所在行政區": "新店", "相片": "https://i.ibb.co/zyTm6dd/image.jpg"}, {"縣市": "新北市", "等級": "區域醫院", "醫院名稱": "永和耕莘醫院", "現任院長": "趙嘉倫", "科別": "心臟科", "所在行政區": "永和區", "相片": "https://i.ibb.co/VWmT0FVx/image.jpg"}, {"縣市": "新北市", "等級": "區域醫院", "醫院名稱": "安康耕莘醫院", "現任院長": "周少鈞", "科別": "一般外科", "所在行政區": "安康", "相片": "https://i.ibb.co/hFfK6wHC/image.jpg"}, {"縣市": "新北市", "等級": "區域醫院", "醫院名稱": "土城長庚", "現任院長": "賴旗俊", "科別": "眼科", "所在行政區": "土城", "相片": "https://i.ibb.co/N6R9XT1M/image.jpg"}, {"縣市": "新北市", "等級": "區域醫院", "醫院名稱": "八里療養院", "現任院長": "李新民", "科別": "精神科", "所在行政區": "八里", "相片": "https://i.ibb.co/G4VKJLjm/image.png"}, {"縣市": "基隆市", "等級": "區域醫院", "醫院名稱": "基隆長庚紀念醫院", "現任院長": "吳俊德", "科別": "泌尿科", "所在行政區": "安樂區", "相片": "https://i.ibb.co/STHyHnj/image.jpg"}, {"縣市": "基隆市", "等級": "區域醫院", "醫院名稱": "衛生福利部基隆醫院", "現任院長": "林三齊", "科別": "腎臟", "所在行政區": "信義區", "相片": "https://i.ibb.co/S7QFGPK0/image.jpg"}, {"縣市": "宜蘭縣", "等級": "區域醫院", "醫院名稱": "國立陽明交通大學附設醫院", "現任院長": "黃志賢", "科別": "泌尿科", "所在行政區": "宜蘭市", "相片": "https://i.ibb.co/qFVQmNYb/image.jpg"}, {"縣市": "宜蘭縣", "等級": "區域醫院", "醫院名稱": "羅東博愛醫院", "現任院長": "王文斌", "科別": "神經外科", "所在行政區": "羅東鎮", "相片": "https://i.ibb.co/g1MDnxZ/image.jpg"}, {"縣市": "宜蘭縣", "等級": "區域醫院", "醫院名稱": "羅東聖母醫院", "現任院長": "馬漢光", "科別": "胸腔內科", "所在行政區": "羅東鎮", "相片": "https://i.ibb.co/xSnSrym5/image.jpg"}];

        document.addEventListener('alpine:init', () => {
            Alpine.data('hospitalApp', () => ({
                searchQuery: '',
                selectedCity: '',
                selectedLevel: '',
                hospitals: HOSPITAL_DATA,

                // 計算屬性：篩選後的結果
                get filteredHospitals() {
                    return this.hospitals.filter(item => {
                        // 1. 搜尋邏輯
                        const query = this.searchQuery.toLowerCase().trim();
                        const inName = (item['醫院名稱'] || '').toLowerCase().includes(query);
                        const inDean = (item['現任院長'] || '').toLowerCase().includes(query);
                        const inDept = (item['科別'] || '').toLowerCase().includes(query);
                        const searchMatch = query === '' || inName || inDean || inDept;

                        // 2. 縣市篩選
                        const cityMatch = this.selectedCity === '' || item['縣市'] === this.selectedCity;

                        // 3. 等級篩選
                        const levelMatch = this.selectedLevel === '' || item['等級'] === this.selectedLevel;

                        return searchMatch && cityMatch && levelMatch;
                    });
                },

                // 取得不重複的縣市列表
                get cities() {
                    const list = this.hospitals.map(h => h['縣市']).filter(Boolean);
                    return [...new Set(list)];
                },

                // 取得不重複的等級列表
                get levels() {
                    const list = this.hospitals.map(h => h['等級']).filter(Boolean);
                    return [...new Set(list)];
                },

                // 是否有啟用篩選
                get hasFilters() {
                    return this.searchQuery !== '' || this.selectedCity !== '' || this.selectedLevel !== '';
                },

                // 重置所有條件
                resetFilters() {
                    this.searchQuery = '';
                    this.selectedCity = '';
                    this.selectedLevel = '';
                }
            }));
        });
    </script>
</body>
</html>